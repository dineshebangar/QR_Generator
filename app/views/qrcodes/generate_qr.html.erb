<html><head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <link type="text/css" rel="stylesheet" href="/Generator.css">
    <title>QR Code Generator </title>
    <script type="text/javascript" language="javascript" src="/generator/generator.nocache.js"></script><script defer="defer">generator.onInjectionDone('generator')</script>
  <link rel="stylesheet" href="http://zxing.appspot.com/generator/gwt/clean/clean.css"></head>
  <body>
    <iframe src="javascript:''" id="__gwt_historyFrame" tabindex="-1" style="position:absolute;width:0;height:0;border:0"></iframe>
    

    <div id="header">
      <h1>QR Code Generator </h1>
    </div>

    <div id="ui">
      <div class="secondColumn">
      <h3>Contact information:</h3>
    </div>
      <table cellspacing="0" cellpadding="0" id="mainpanel"><tbody>
        <tr>
          <td align="left" style="vertical-align: top;">
            <table id="leftpanel">
              <colgroup>
              <col></colgroup>
              <!-- <tbody> -->
                <tr>
                  <td>
                    <table style=" width: 361px;">
                      <colgroup>
                      <col class="firstColumn">
                      <col class="secondColumn">
                    </colgroup>
                    
                  </table>
                </td>
              </tr>
              <tr>
                <td>
                  <table>
                    <colgroup>
                    <col class="firstColumn">
                    <col class="secondColumn">
                  </colgroup>
      <!-- <tbody> -->
        <tr>
          <td class="firstColumn info" >Name</td>
          <td class="secondColumn">
            <input type="text" class="gwt-TextBox required" id="qr_name">
          </td>
          </tr>
          <tr>
            <td class="firstColumn">Company</td>
            <td class="secondColumn">
              <input type="text" class="gwt-TextBox" id="qr_company"></td>
            </tr>
            <tr>
              <td class="firstColumn">Title</td>
              <td class="secondColumn">
                <input type="text" class="gwt-TextBox" id="qr_title">
              </td>
            </tr>
            <tr>
              <td class="firstColumn">Phone number</td>
              <td class="secondColumn">
                <input type="text" class="gwt-TextBox" id="qr_phone">
              </td>
            </tr>
            <tr>
              <td class="firstColumn">Email</td>
              <td class="secondColumn">
                <input type="text" class="gwt-TextBox" id="qr_email">
              </td>
            </tr>
            <tr>
              <td class="firstColumn">Address</td>
              <td class="secondColumn">
                <input type="text" class="gwt-TextBox" id="qr_addr">
              </td>
            </tr>
            <tr>
              <td class="firstColumn">Address 2</td>
              <td class="secondColumn">
                <input type="text" class="gwt-TextBox" id="qr_addr2">
              </td>
            </tr>
            <tr>
              <td class="firstColumn">Website</td>
              <td class="secondColumn">
                <input type="text" class="gwt-TextBox" id="qr_site">
              </td>
            </tr>
            <tr>
              <td class="firstColumn">Memo</td>
              <td class="secondColumn">
                <input type="text" class="gwt-TextBox" id="qr_memo">
              </td>
            </tr>
            <tr>
            <td class="firstColumn">Barcode size</td>
            <td class="secondColumn">
              <%= select_tag "bar_size","<option value='6'>select</option><option value='6'>Small</option><option value='8'>Medium</option><option value='10'>Large</option>".html_safe,:id=>"bar_size"%>
              
            </td>
          </tr>
            
        </table>
      </td>
    </tr>
    <tr>
      <td><span id="errorMessageID" class="errorMessage">&nbsp;</span></td>
    </tr>
    <tr>
      <td>
        <table>
          <colgroup><col class="firstColumn"><col class="secondColumn">
        </colgroup>
        <!-- <tbody> -->
          
          
        <!-- </tbody> -->
      </table>
    </td>
  </tr>
  <tr>
    <td>
      <table><colgroup><col class="firstColumn"><col class="secondColumn"></colgroup>
        <!-- <tbody> -->
          <tr>
            <td class="firstColumn">&nbsp;</td>
          <td class="secondColumn">
      <button type="button" class="gwt-Button" id="generate_img">Generate â†’</button>
    </td>
  </tr>
<!-- </tbody> -->
</table>
</td>
</tr>
<!-- </tbody> -->
  </table></td><td align="left" style="vertical-align: top;">
  
    <div id="qr_image" style="background:rgb(221, 227, 233); width: 400px; height: 300px; vertical-align: middle; padding-top: 45px;" align="center">
      <!-- <span id="LoadingImage" style="display: none"> -->
        <%#= image_tag "loader.gif"%>
      <!-- </span> -->
    </div>  
     
  </table>
  </td>
</tr>
<!-- </tbody> -->
</table>
</div>

    
  

<iframe src="javascript:''" id="generator" tabindex="-1" style="position: absolute; width: 0px; height: 0px; border: none;"></iframe></body></html>

<script type="text/javascript">
  $('#generate_img').click(function(){
  
  var qr_data = " "
  if($("#qr_name").val()!= ""){ qr_data = qr_data + " " + "name:" + $("#qr_name").val()}
  if($("#qr_phone").val()!= ""){ qr_data = qr_data + " " + "phone:" + $("#qr_phone").val()}
  if($("#qr_company").val()!= ""){ qr_data = qr_data + " " + "company:" + $("#qr_company").val()}
  if($("#qr_email").val()!= ""){ qr_data = qr_data + " " + "Email:" + $("#qr_email").val()}
  if($("#qr_title").val()!= ""){ qr_data = qr_data + " " + "title:" + $("#qr_title").val()}
  if($("#qr_memo").val()!= ""){ qr_data = qr_data + " " + "memo:" + $("#qr_memo").val()}
  if($("#qr_addr").val()!= ""){ qr_data = qr_data + " " + "addr:" + $("#qr_addr").val()}
  if($("#qr_addr2").val()!= ""){ qr_data = qr_data + " " + "addr2:" + $("#qr_addr2").val()}
  if($("#qr_site").val()!= ""){ qr_data = qr_data + " " + "web_site:" + $("#qr_site").val()}

  qr_data = { "qr_data": qr_data , "size": $("#bar_size").val()}  


  // var qr_data = ""
  // if($("#qr_name").val()!= ""){ qr_data = qr_data +  $("#qr_name").val()}
  // if($("#qr_phone").val()!= ""){ qr_data = qr_data +  $("#qr_phone").val()}
  // if($("#qr_company").val()!= ""){ qr_data = qr_data +  $("#qr_company").val()}
  // if($("#qr_email").val()!= ""){ qr_data = qr_data +  $("#qr_email").val()}
  // if($("#qr_title").val()!= ""){ qr_data = qr_data +  $("#qr_title").val()}
  // if($("#qr_memo").val()!= ""){ qr_data = qr_data +  $("#qr_memo").val()}
  // if($("#qr_addr").val()!= ""){ qr_data = qr_data +  $("#qr_addr").val()}
  // if($("#qr_addr2").val()!= ""){ qr_data = qr_data +  $("#qr_addr2").val()}
  // if($("#qr_site").val()!= ""){ qr_data = qr_data +  $("#qr_site").val()}

  // qr_data = { "qr_data": qr_data , "size": $("#bar_size").val()}  
  $("#qr_code").hide();
  $("#LoadingImage").show();
  $.ajax({
  url: 'generate_img',
  type: 'get',
  data: qr_data,
  success: function(data,event,xhr) {      
      $("#LoadingImage").hide();
      $("#qr_code").show();
  }
  });
  });
</script>
